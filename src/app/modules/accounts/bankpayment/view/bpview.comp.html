<div class="col-md-12">
	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label>Bank</label>
				<select class="form-control" [(ngModel)]="bankid">
					<option [value]="0">Select Bank</option>
					<option *ngFor="let items of bankDT" tabindex="1" [value]="items.key">
						{{items.val}}
					</option>
				</select>
			</div>
		</div>
		<!--<div class="col-md-3">
			<div class="form-group">
				<label>From Date</label>
				<calendar #fromdate [name]="'fromdate'" tabindex="2"></calendar>
			</div>
		</div>
		<div class="col-md-3">
			<div class="form-group">
				<label>To Date</label>
				<calendar #todate [name]="'todate'" tabindex="3"></calendar>
			</div>
		</div>-->
		<div class="col-md-3">
			<div class="form-group">
				<label>Status</label>
				<select class="form-control" [(ngModel)]="status" tabindex="4">
					<option *ngFor="let item of statusDT" [value]="item.code">{{item.name}}</option>
				</select>
			</div>
		</div>
		<div class="col-md-1">
			<div class="form-group setfltrbtn">
				<label>&nbsp;</label>
				<button type="button" class="btn btn-theme btn-sm" (click)="searchBankPayment(dt)">
					<i class="fa fa-arrow-right"></i>
				</button>
			</div>
		</div>
	</div>
</div>

<div class="col-md-12">
	<div class="table-responsive">
		<p-dataTable #dt [value]="bankpaymentDT" [lazy]="true" [rows]="10" [paginator]="true" [totalRecords]="totalRecords" (onRowExpand)="expandDetails($event)"
			(onLazyLoad)="loadBankPaymentGrid($event)" expandableRows="true">
			<p-column expander="true" styleClass="col-icon" [style]="{'width':'50px'}"></p-column>
			<p-column field="issuedate" header="Issue Date" [style]="{'width':'100px','text-align':'left'}"></p-column>
			<p-column field="acname" header="A/C Name" [style]="{'text-align':'left'}"></p-column>
			<p-column field="bankname" header="Bank Name" [style]="{'width':'200px','text-align':'left'}"></p-column>
			<p-column field="banktype" header="Bank Type" [style]="{'width':'100px','text-align':'left'}"></p-column>
			<p-column field="cheqno" header="Cheque No" [style]="{'width':'150px','text-align':'left'}"></p-column>
			<p-column header="Amount" [style]="{'width':'150px','text-align':'right'}">
				<template let-row="rowData" pTemplate type="body">
					{{row.amount | currency:loginUser._globsettings.currency:true}}
				</template>
			</p-column>
			<p-column [style]="{'width':'45px','text-align':'left'}">
				<template let-row="rowData" pTemplate type="body">
					<button type="button" (click)="OpenBankPayment(row)" class="btn btn-theme btn-sm">
						<i class="fa fa-edit"></i>
					</button>
				</template>
			</p-column>
			<template let-row>
				<p-dataTable [value]="row.details" [lazy]="true" [rows]="10" [paginator]="true" [totalRecords]="totalDetailsRecords" expandableRows="true">
					<p-column field="refno" header="Refernce No" [style]="{'width':'150px','text-align':'left'}"></p-column>
					<p-column field="code" header="Code" [style]="{'width':'150px','text-align':'left'}"></p-column>
				</p-dataTable>
			</template>
		</p-dataTable>
	</div>
</div>

<!--<table class="table table-striped table-bordered" [hidden]="tableLength">
	<thead>
		<tr>
			<th colspan="5"></th>
			<th><b>Total</b></th>
			<th class="textboxRight"><b>{{TotalAmount()| number}}</b></th>
			<th></th>
		</tr>
		<tr>
			<th></th>
			<th class="col-xs-1">Doc</th>
			<th class="col-xs-2">Date</th>
			<th class="col-xs-3">Party</th>
			<th class="col-xs-1">Type</th>
			<th class="col-xs-1">Cheque</th>
			<th class="col-xs-1">Credit</th>
			<th class="col-xs-3">Narration</th>
		</tr>
	</thead>
	<tbody *ngFor="let row of bankpaymentDT">
		<tr>
			<td>
				<button (click)="expandDetails(row)">
					<i class="{{row.issh == 1 ? 'fa fa-folder-open' : 'fa fa-folder'}}"></i>
				</button>
			</td>
			<td><a role="button" (click)="OpenEdit(row)">{{row.id}}</a></td>
			<td>{{row.issuedate}}</td>
			<td>{{row.partyname}}</td>
			<td>{{row.typ}}</td>
			<td>{{row.cheqno}}</td>
			<td class="textboxRight">{{row.amount | number}}</td>
			<td rowspan="2">
				{{row.iscollapse == 1 ? row.remark : row.small}}
			</td>
		</tr>
		<tr [style.display]="row.issh == 0?'none':''">
			<td></td>
			<td></td>
			<td colspan="5">
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>Refrnce No</th>
							<th>Account Code</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let drow of row.Details">
							<td>{{drow.refno}}</td>
							<td>{{drow.code}}</td>
						</tr>
					</tbody>
				</table>
			<td>
		</tr>
	</tbody>
	<tfoot>
		<tr>
			<td colspan="5"></td>
			<td><b>Total</b></td>
			<td class="textboxRight"><b>{{TotalAmount()| number}}</b></td>
			<td></td>
		</tr>
	</tfoot>
</table>-->