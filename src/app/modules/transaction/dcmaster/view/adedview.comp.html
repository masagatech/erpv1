<div class="panel panel-theme">
	<div class="panel-body">
		<div class="col-md-4">
			<div class='form-group'>
				<label>Customer</label>
				<p-autoComplete [(ngModel)]="CustName" id="Custcode" tabindex="1" class="form-controlAutoComplete" (onSelect)="CustomerSelect($event)"
					[suggestions]="CustomerAutodata" (completeMethod)="CustomerAuto($event)" field="label" [size]="30" [minLength]="1"></p-autoComplete>
			</div>
		</div>
		<div class="col-md-3">
			<div class='form-group'>
				<label>From Date</label>
				<div class="controls">
					<div class="input-group">
						<input type="text" name="date-picker-3" id="FromDate" tabindex="2" class="date-picker form-control" [(ngModel)]="FromDate"
						/>
						<label for="date-picker-3" class="input-group-addon btn"><span class="glyphicon glyphicon-calendar"></span></label>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<div class='form-group'>
				<label>To Date</label>
				<div class="controls">
					<div class="input-group date">
						<input type="text" name="date-picker-4" id="ToDate" tabindex="3" class="date-picker form-control" [(ngModel)]="ToDate" />
						<label for="date-picker-4" class="input-group-addon btn"><span class="glyphicon glyphicon-calendar"></span></label>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-1">
			<div class='form-group'>
				<div style="padding-top:28px;">
					<button type="button" class="btn btn-theme btn-sm get" tabindex="4" (click)="GetData()"><i class="fa fa-arrow-right"></i></button>
				</div>
			</div>
		</div>
	</div>
	<div class="table-responsive" *ngIf="salesorderview">
		<p-dataTable #dt [value]="salesorderview" [lazy]="true" [rows]="10" [paginator]="false" [totalRecords]="totalRecords" (onLazyLoad)="loadRBIGrid($event)"
			(onRowExpand)="expandDetails($event)" expandableRows="true">
			<p-column header="#" [style]="{'width':'1px','text-align':'left'}">
				<template let-col let-row="rowData" let-rowIndex="rowIndex" pTemplate="editor">
					{{rowIndex+1}}
				</template>
			</p-column>
			<p-column header="More" expander="true" [style]="{'width':'1px','text-align':'left'}">
			</p-column>
			<p-column field="docno" header="Doc No" [style]="{'width':'10px','text-align':'left'}"></p-column>
			<p-column field="docdate" header="Doc Date" [style]="{'width':'50px','text-align':'left'}"></p-column>
			<p-column field="cust" header="Customer" [style]="{'width':'150px','text-align':'left'}"></p-column>
			<p-column field="deldate" header="Del Date" [style]="{'width':'50px','text-align':'left'}"></p-column>
			<p-column field="status" header="Status" [style]="{'width':'50px','text-align':'left'}"></p-column>
			<p-column field="remark" header="Sp.Intraction" [style]="{'width':'50px','text-align':'left'}"></p-column>
			<template let-row pTemplate="rowexpansion">
				<span *ngIf="!row.loading">Loading....</span>
				<p-dataTable *ngIf="row.loading" [value]="row.details" [lazy]="true" [rows]="10" [paginator]="false" expandableRows="true"
					[totalRecords]="totalDetailsRecords">
					<p-column header="#" [style]="{'width':'1px','text-align':'left'}">
						<template let-col let-row="rowData" let-rowIndex="rowIndex" pTemplate="editor">
							{{rowIndex+1}}
						</template>
					</p-column>
					<p-column field="item" header="Item" [style]="{'width':'10px','text-align':'left'}"></p-column>
					<p-column field="ordqty" header="Qty" [style]="{'width':'30px','text-align':'left'}"></p-column>
					<p-column field="amount" header="Amount" [style]="{'width':'30px','text-align':'left'}"></p-column>
				</p-dataTable>
				<footer>
					<table class="tableNoborder">
						<tbody>
							<tr>
								<td></td>
								<td></td>
								<td><label style="'width':'30px','text-align':'left'"><b>{{row.subqty}}</b></label></td>
								<td><label style="'width':'30px','text-align':'left'"><b>{{row.subtotal}}</b></label></td>
							</tr>
						</tbody>
					</table>
				</footer>
			</template>
			<footer>
				<table class="tableNoborder">
					<tbody>
						<tr>
							<td style="width:40px;text-align:left"></td>
							<td style="width:30px;text-align:left"></td>
							<td style="width:30px;text-align:right">Total</td>
						</tr>
					</tbody>
				</table>
			</footer>
		</p-dataTable>
	</div>
</div>